<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails du Produit - Keluvato</title>
     <meta property="og:title" content="Votre compte KELUVATO"/>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<style>
    
.logo-wrapper {
    background-image: url('assets/IMG.png');
    background-size: contain;
    background-repeat: no-repeat;
    /* background-position: center; */
    /* display: flex;*/
   /*  justify-content: left;*/
    width: 250px;     /* augmente la largeur */
    height: 80px;    /* augmente la hauteur */
    
    flex-shrink: 0;   /* empêche le logo de rétrécir sur petit écran */
}

@media (max-width: 768px) {
        .desktop-search, .desktop-icons {
            display: none !important;
        }
        
        .mobile-search-icon, .mobile-menu-toggle {
            display: block !important;
        }
        
        .logo-wrapper {
            flex: 0 0 auto !important;
        }
        
        .header-container {
            justify-content: space-between !important;
        }

         }

                  /* Mobile : max 768px */
@media (max-width: 768px) {
    /* On cache les icônes desktop inutiles */
    .desktop-icons {
        display: none !important;
    }

    /* On affiche le menu burger */
    .mobile-menu-toggle {
        display: block !important;
    }

    /* Centrer la recherche */
    .search-container {
        position: absolute !important;
        left: 60%;
        transform: translateX(-50%);
        width: 40%;
        max-width: 200px;
    }

    /* Empêcher qu'elle soit écrasée */
    .search-container input {
        font-size: 14px;
        padding: 8px 12px;
    }
}

</style>
</head>
<body>
    <!-- Header -->
       <!-- Header -->
       <!-- Header -->
<header id="" style="background: #1F4E5F; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; transition: top 0.3s;">
    <div class="container header-container" style="display: flex; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 15px;">
        
        <!-- Logo -->
       <a href="index.html" style="display: inline-block;">
    <div class="logo-wrapper" style="flex: 0 0 auto;">
        <!-- Votre logo (peut être une image ou un fond CSS) -->
    </div>
</a>
        
   

        
        <!-- Barre de recherche -->
        <div class="search-container" style="flex: 1 1 auto; max-width: 500px; margin: 0 auto; position: relative;">
            <input type="text" placeholder="Rechercher des meubles, décoration..." 
                style="width: 100%; padding: 10px 15px; border: 2px solid #f1f1f1; border-radius: 25px; font-size: 14px; outline: none; background: white;">
            <button style="position: absolute; right: 3px; top: 3px; background: white; color: #4a6bff; border: none; border-radius: 50%; width: 34px; height: 34px; cursor: pointer;">
                <i class="fas fa-search"></i>
            </button>
        </div>
        
        <div class="right-menu" style="display: flex; align-items: center; gap: 10px; flex: 0 0 auto;">
            <!-- Menu burger pour mobile -->
            <button class="mobile-menu-toggle" style="display: none; background: none; border: none; color: white; padding: 8px; cursor: pointer;">
                <svg width="35" height="35" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" class="chakra-icon css-pks0an" aria-hidden="true">
                    <path d="M2 3.188h16v1.615H2V3.188zM2 9.033h16v1.615H2V9.033zM2 14.606h16v1.615H2v-1.615z" fill="#ffffff"></path>
                </svg>
            </button>  
        </div>   
     
        <!-- Icônes et liens (version desktop) -->
        <div class="desktop-icons" style="flex: 0 0 auto; display: flex; align-items: center; gap: 12px;">
            <div class="user-dropdown" style="position: relative;">
                <button id="userToggle" style="background: none; border: none; cursor: pointer; color: white; position: relative; padding: 8px;">
                    <i class="fas fa-user" style="font-size: 22px; transition: all 0.2s;"></i>
                    <span class="user-pulse" style="position: absolute; top: 0; right: 0; width: 8px; height: 8px; background: #ffcc00; border-radius: 50%; border: 2px solid #4a6bff; display: none;"></span>
                </button>
                <div id="dropdownUser" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; min-width: 220px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px; z-index: 100; overflow: hidden; margin-top: 10px; transform-origin: top right; animation: fadeIn 0.15s ease-out;">
                    <div style="padding: 8px 0; border-bottom: 1px solid #f5f5f5;">
                        <a href="profil.html" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-user-circle" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                            <span>Mon profil</span>
                        </a>
                        <a href="favoris.html" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-heart" style="margin-right: 12px; color: #ff4081; width: 20px; text-align: center;"></i>
                            <span>Mes favoris</span>
                            <span style="margin-left: auto; background: #ff4081; color: white; font-size: 11px; padding: 2px 6px; border-radius: 10px;">3</span>
                        </a>
                        <a href="commandes.html" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-box-open" style="margin-right: 12px; color: #4caf50; width: 20px; text-align: center;"></i>
                            <span>Mes commandes</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <a href="login.html" style="font-size: 14px; color: white; background: rgba(255,255,255,0.1); padding: 8px 15px; border-radius: 20px; text-decoration: none; transition: all 0.2s; display: flex; align-items: center; gap: 6px;">
                <i class="fas fa-briefcase" style="font-size: 14px;"></i>
                <span>Professional</span>
            </a>
            
            <div class="help-dropdown" style="position: relative;">
                <button id="helpToggle" style="background: none; border: none; cursor: pointer; display: flex; align-items: center; gap: 5px; color: white; font-weight: 500; font-size: 16px; padding: 8px 12px; border-radius: 20px; transition: all 0.2s;">
                    <i class="fas fa-question-circle" style="font-size: 20px;"></i>
                    <span>Aide</span>
                </button>
                <div id="dropdownHelp" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; min-width: 250px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px; z-index: 100; overflow: hidden; margin-top: 10px; transform-origin: top right; animation: fadeIn 0.15s ease-out;">
                    <div style="padding: 15px; background: linear-gradient(135deg, #4a6bff, #6a5acd); color: white;">
                        <h4 style="margin: 0; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-headset"></i>
                            <span>Centre d'assistance</span>
                        </h4>
                    </div>
                    <div style="padding: 8px 0;">
                        <a href="#" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-truck" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                            <span>Suivre ma commande</span>
                        </a>
                        <a href="#" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-exchange-alt" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                            <span>Faire un retour</span>
                        </a>
                        <a href="#" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-ban" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                            <span>Annuler ma commande</span>
                        </a>
                        <a href="#" style="display: flex; align-items: center; padding: 10px 15px; color: #333; text-decoration: none; font-size: 14px; transition: all 0.2s;">
                            <i class="fas fa-phone-alt" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                            <span>Contactez-nous</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="language-dropdown" style="position: relative;">
                <button id="languageToggle" style="background: none; border: none; cursor: pointer; color: white; padding: 6px 8px; border-radius: 20px; display: flex; align-items: center; gap: 5px;">
                    <i class="fas fa-language" style="font-size: 16px;"></i>
                    <span class="language-code">FR</span>
                    <i class="fas fa-chevron-down" style="font-size: 10px; margin-left: 3px;"></i>
                </button>
                <div id="dropdownLanguage" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; width: 150px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px; z-index: 1000; margin-top: 5px;">
                    <div style="padding: 10px 15px; cursor: pointer; border-bottom: 1px solid #f5f5f5;" onclick="changeLanguage('fr')">
                        <span style="font-weight: bold;">Français</span>
                    </div>
                    <div style="padding: 10px 15px; cursor: pointer; border-bottom: 1px solid #f5f5f5;" onclick="changeLanguage('en')">
                        <span>English</span>
                    </div>
                    <div style="padding: 10px 15px; cursor: pointer;" onclick="changeLanguage('es')">
                        <span>Español</span>
                    </div>
                </div>
            </div>
            
            <div class="country-dropdown" style="position: relative;">
                <button id="countryToggle" style="background: none; border: none; cursor: pointer; display: flex; align-items: center; gap: 5px; color: white; padding: 6px 8px; border-radius: 20px;">
                    <i class="fas fa-globe" style="font-size: 16px;"></i>
                    <span class="country-flag" style="width: 20px; height: 15px; background-image: url('https://flagcdn.com/w20/fr.png'); background-size: cover;"></span>
                    <span class="country-code" style="font-size: 14px;">FR</span>
                    <i class="fas fa-chevron-down" style="font-size: 10px; margin-left: 3px;"></i>
                </button>
                <div id="dropdownCountry" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; width: 320px; max-height: 60vh; overflow-y: auto; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px; z-index: 1000; margin-top: 5px;">
                    <div style="position: sticky; top: 0; background: white; z-index: 1; padding: 15px; border-bottom: 1px solid #eee;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="margin: 0; font-size: 16px; color: #1F4E5F;">
                                <i class="fas fa-globe" style="margin-right: 8px;"></i>
                                Sélectionnez votre pays
                            </h4>
                            <span id="closeCountryMenu" style="cursor: pointer; font-size: 18px;">&times;</span>
                        </div>
                        <input type="text" id="countrySearch" placeholder="Rechercher un pays..." style="width: 100%; padding: 8px 12px; border: 1px solid #ddd; border-radius: 20px; font-size: 14px;">
                    </div>
                    <div id="countryList" style="padding: 5px 0;">
                        <!-- La liste des pays sera générée dynamiquement par JavaScript -->
                    </div>
                </div>
            </div>
            
            <a href="#" id="cart-icon" style="position: relative; color: white; text-decoration: none; padding: 6px;">
                <i class="fas fa-shopping-cart" style="font-size: 20px;"></i>
                <span class="cart-count" style="position: absolute; top: -5px; right: -5px; background: white; color: #4a6bff; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: bold;">2</span>
            </a>
        </div>
        
       
        
    </div>
</header>

<!-- Modal mobile menu -->
<div id="mobileMenuModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 999; overflow-y: auto; padding: 60px 20px 20px; box-sizing: border-box;">
    <button id="closeMobileMenu" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 24px; cursor: pointer; color: white;">&times;</button>
    
    <div style="max-width: 500px; margin: 0 auto; background: white; border-radius: 10px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
        <div style="padding: 20px 0;">
            <!-- Menu utilisateur -->
            <div style="margin-bottom: 20px;">
                <h3 style="color: #1F4E5F; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">Mon compte</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <a href="profil.html" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-user-circle" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                        <span>Mon profil</span>
                    </a>
                    <a href="favoris.html" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-heart" style="margin-right: 12px; color: #ff4081; width: 20px; text-align: center;"></i>
                        <span>Mes favoris</span>
                        <span style="margin-left: auto; background: #ff4081; color: white; font-size: 12px; padding: 2px 8px; border-radius: 10px;">3</span>
                    </a>
                    <a href="commandes.html" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-box-open" style="margin-right: 12px; color: #4caf50; width: 20px; text-align: center;"></i>
                        <span>Mes commandes</span>
                    </a>
                </div>
            </div>
            
            <!-- Profil professionnel -->
            <div style="margin-bottom: 20px;">
                <a href="login.html" style="display: flex; align-items: center; padding: 12px 15px; color: white; background: #1F4E5F; border-radius: 5px; text-decoration: none; font-size: 16px;">
                    <i class="fas fa-briefcase" style="margin-right: 12px;"></i>
                    <span>Espace Professionnel</span>
                </a>
            </div>
            
            <!-- Menu Aide -->
            <div style="margin-bottom: 20px;">
                <h3 style="color: #1F4E5F; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">Aide & Contact</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <a href="#" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-truck" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                        <span>Suivre ma commande</span>
                    </a>
                    <a href="#" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-exchange-alt" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                        <span>Faire un retour</span>
                    </a>
                    <a href="#" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-ban" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                        <span>Annuler ma commande</span>
                    </a>
                    <a href="#" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9;">
                        <i class="fas fa-phone-alt" style="margin-right: 12px; color: #4a6bff; width: 20px; text-align: center;"></i>
                        <span>Contactez-nous</span>
                    </a>
                </div>
            </div>
            
            <!-- Sélecteur de langue -->
            <div style="margin-bottom: 20px;">
                <h3 style="color: #1F4E5F; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">Langue</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button onclick="changeLanguage('fr')" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9; border: none; cursor: pointer; text-align: left;">
                        <span style="font-weight: bold;">Français</span>
                    </button>
                    <button onclick="changeLanguage('en')" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9; border: none; cursor: pointer; text-align: left;">
                        <span>English</span>
                    </button>
                    <button onclick="changeLanguage('es')" style="display: flex; align-items: center; padding: 12px 15px; color: #333; text-decoration: none; font-size: 16px; border-radius: 5px; background: #f9f9f9; border: none; cursor: pointer; text-align: left;">
                        <span>Español</span>
                    </button>
                </div>
            </div>
            
            <!-- Panier -->
            <div>
                <a href="#" id="cart-icon" style="display: flex; align-items: center; justify-content: center; padding: 12px 15px; color: white; background: #4a6bff; border-radius: 5px; text-decoration: none; font-size: 16px; font-weight: 500;">
                    <i class="fas fa-shopping-cart" style="margin-right: 10px;"></i>
                    <span>Panier (2)</span>
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    /* Media queries pour la version mobile */
    @media (max-width: 768px) {
        .desktop-icons {
            display: none !important;
        }
        
        .mobile-menu-toggle {
            display: block !important;
        }
        
        .logo-wrapper {
            flex: 0 0 auto !important;
        }
        
        .search-container {
            flex: 1 1 auto !important;
            margin: 0 10px !important;
            max-width: none !important;
        }
        
        .header-container {
            padding: 0 10px !important;
        }
    }
    
    @media (min-width: 769px) {
        .mobile-menu-toggle, #mobileMenuModal {
            display: none !important;
        }
    }
    
    /* Animation pour les menus déroulants */
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }
    
    .dropdown-menu {
        animation: fadeIn 0.15s ease-out;
    }
</style>

<script>
    // Script pour gérer l'affichage mobile
    document.addEventListener('DOMContentLoaded', function() {
        // Gestion du menu burger
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const mobileMenuModal = document.getElementById('mobileMenuModal');
        const closeMobileMenu = document.getElementById('closeMobileMenu');
        
        if (mobileMenuToggle && mobileMenuModal) {
            mobileMenuToggle.addEventListener('click', function() {
                mobileMenuModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            });
        }
        
        if (closeMobileMenu && mobileMenuModal) {
            closeMobileMenu.addEventListener('click', function() {
                mobileMenuModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
        }
        
        // Fermer le modal si on clique en dehors
        mobileMenuModal.addEventListener('click', function(e) {
            if (e.target === mobileMenuModal) {
                mobileMenuModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Gestion des menus déroulants desktop
        const toggleButtons = document.querySelectorAll('[id$="Toggle"]');
        toggleButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                const dropdownId = this.id.replace('Toggle', '');
                const dropdown = document.getElementById(dropdownId);
                const isVisible = dropdown.style.display === 'block';
                
                // Fermer tous les autres menus
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    if (menu.id !== dropdownId) {
                        menu.style.display = 'none';
                    }
                });
                
                // Basculer l'affichage du menu courant
                dropdown.style.display = isVisible ? 'none' : 'block';
            });
        });
        
        // Fermer les menus déroulants quand on clique ailleurs
        document.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
                menu.style.display = 'none';
            });
        });
        
        // Empêcher la fermeture quand on clique dans le menu
        document.querySelectorAll('.dropdown-menu').forEach(menu => {
            menu.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });
        
        // Fonction pour changer la langue
        window.changeLanguage = function(lang) {
            console.log('Changement de langue vers:', lang);
            // Ici vous ajouteriez la logique pour changer la langue
            document.querySelectorAll('.language-code').forEach(el => {
                el.textContent = lang.toUpperCase();
            });
            document.getElementById('mobileMenuModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        };
    });
</script>

<script>
// Liste complète des pays avec leurs devises (exemple partiel)
const countries = [
    { code: 'FR', name: 'France', currency: 'EUR', symbol: '€', flag: 'fr' },
    { code: 'DE', name: 'Allemagne', currency: 'EUR', symbol: '€', flag: 'de' },
    { code: 'US', name: 'États-Unis', currency: 'USD', symbol: '$', flag: 'us' },
    { code: 'GB', name: 'Royaume-Uni', currency: 'GBP', symbol: '£', flag: 'gb' },
    { code: 'JP', name: 'Japon', currency: 'JPY', symbol: '¥', flag: 'jp' },
    { code: 'CA', name: 'Canada', currency: 'CAD', symbol: '$', flag: 'ca' },
    { code: 'AU', name: 'Australie', currency: 'AUD', symbol: '$', flag: 'au' },
    { code: 'CN', name: 'Chine', currency: 'CNY', symbol: '¥', flag: 'cn' },
    { code: 'BR', name: 'Brésil', currency: 'BRL', symbol: 'R$', flag: 'br' },
    { code: 'IN', name: 'Inde', currency: 'INR', symbol: '₹', flag: 'in' },
    // Ajoutez ici tous les autres pays nécessaires
];

document.addEventListener('DOMContentLoaded', function() {
    const countryToggle = document.getElementById('countryToggle');
    const dropdownCountry = document.getElementById('dropdownCountry');
    const countryList = document.getElementById('countryList');
    const countrySearch = document.getElementById('countrySearch');
    const closeCountryMenu = document.getElementById('closeCountryMenu');
    
    // Générer la liste des pays
    function generateCountryList(filter = '') {
        countryList.innerHTML = '';
        const filtered = filter ? 
            countries.filter(c => c.name.toLowerCase().includes(filter.toLowerCase())) : 
            countries;
        
        filtered.forEach(country => {
            const countryElement = document.createElement('div');
            countryElement.className = 'country-option';
            countryElement.style.display = 'flex';
            countryElement.style.alignItems = 'center';
            countryElement.style.padding = '10px 15px';
            countryElement.style.cursor = 'pointer';
            countryElement.style.borderBottom = '1px solid #f5f5f5';
            countryElement.setAttribute('data-country', country.code);
            countryElement.setAttribute('data-currency', country.currency);
            
            countryElement.innerHTML = `
                <span style="width: 25px; height: 18px; background-image: url('https://flagcdn.com/w20/${country.flag}.png'); background-size: cover; margin-right: 10px;"></span>
                <span style="flex: 1; font-size: 14px;">${country.name}</span>
                <span style="color: #666; font-size: 13px;">${country.symbol} ${country.currency}</span>
            `;
            
            countryElement.addEventListener('click', () => selectCountry(country));
            countryList.appendChild(countryElement);
        });
    }
    
    // Sélectionner un pays
    function selectCountry(country) {
        document.querySelector('.country-flag').style.backgroundImage = `url('https://flagcdn.com/w20/${country.flag}.png')`;
        document.querySelector('.country-code').textContent = country.code;
        dropdownCountry.style.display = 'none';
        
        // Ici vous pouvez implémenter la conversion
        convertPrices(country.currency);
        console.log(`Pays sélectionné: ${country.name}, Devise: ${country.currency}`);
    }
    
    // Fonction de conversion (exemple)
    function convertPrices(targetCurrency) {
        // 1. Récupérer le taux de change depuis une API (ex: https://exchangerate-api.com)
        // 2. Convertir tous les prix sur la page
        // Exemple simplifié:
        fetch(`https://api.exchangerate-api.com/v4/latest/EUR`)
            .then(response => response.json())
            .then(data => {
                const rate = data.rates[targetCurrency];
                if (rate) {
                    document.querySelectorAll('.price').forEach(priceElement => {
                        const originalPrice = parseFloat(priceElement.getAttribute('data-original-price'));
                        const convertedPrice = (originalPrice * rate).toFixed(2);
                        priceElement.textContent = `${convertedPrice} ${targetCurrency}`;
                    });
                }
            })
            .catch(error => {
                console.error("Erreur de conversion:", error);
                // Solution de repli: afficher les prix dans la devise d'origine
            });
    }
    
    // Gestion des événements
    countryToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        dropdownCountry.style.display = dropdownCountry.style.display === 'block' ? 'none' : 'block';
        if (dropdownCountry.style.display === 'block') {
            generateCountryList();
            countrySearch.focus();
        }
    });
    
    closeCountryMenu.addEventListener('click', () => {
        dropdownCountry.style.display = 'none';
    });
    
    countrySearch.addEventListener('input', (e) => {
        generateCountryList(e.target.value);
    });
    
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.country-dropdown')) {
            dropdownCountry.style.display = 'none';
        }
    });
    
    // Initialisation
    generateCountryList();
});
</script>




<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95) translateY(-5px); }
        to { opacity: 1; transform: scale(1) translateY(0); }
    }
    
    .user-dropdown:hover .fa-user,
    #cart-icon:hover .fa-shopping-cart,
    #helpToggle:hover .fa-question-circle {
        transform: scale(1.1);
    }
    
    .dropdown-menu a:hover {
        background: #f9f9f9;
        padding-left: 18px;
    }
    
    .dropdown-menu a:hover i {
        transform: scale(1.1);
    }
    
    #helpToggle:hover,
    .header-icons a:hover {
        background: rgba(255,255,255,0.2) !important;
    }
</style>

<script>
let lastScrollTop = 0;
const header = document.getElementById("mainHeader");

window.addEventListener("scroll", function() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
        // On descend → cacher le header
        header.style.top = "-150px"; // adapte cette valeur à la hauteur de ton header
    } else {
        // On remonte → afficher le header
        header.style.top = "0";
    }

    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // pour éviter valeurs négatives
});
</script>


<script>
    // Gestion des dropdowns
    function setupDropdown(toggleId, dropdownId) {
        const toggle = document.getElementById(toggleId);
        const dropdown = document.getElementById(dropdownId);
        
        toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            // Ferme tous les autres dropdowns
            document.querySelectorAll('.dropdown-menu').forEach(d => {
                if (d.id !== dropdownId) d.style.display = 'none';
            });
            // Ouvre/ferme le dropdown actuel
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        });
    }
    
    // Initialisation des dropdowns
    setupDropdown('userToggle', 'dropdownUser');
    setupDropdown('helpToggle', 'dropdownHelp');
    
    // Ferme les dropdowns quand on clique ailleurs
    document.addEventListener('click', function() {
        document.querySelectorAll('.dropdown-menu').forEach(d => {
            d.style.display = 'none';
        });
    });
    
    // Animation du point de notification utilisateur
    setInterval(() => {
        const pulse = document.querySelector('.user-pulse');
        if (Math.random() > 0.8) {
            pulse.style.display = 'block';
            setTimeout(() => {
                pulse.style.display = 'none';
            }, 5000);
        }
    }, 30000);
</script>


    <!-- Product Details Section -->
    <div class="container">
        <div class="product-details">
            <div class="product-details-content" id="product-details-content">
                <!-- Le contenu sera rempli dynamiquement par JavaScript -->
            </div>
        </div>
<!-- Reviews Section -->
<div class="reviews-section">
    <div class="reviews-header">
        <div class="reviews-header-left">
            <h2>Avis des clients</h2>
            <div class="average-rating">
                <div class="average-rating-number">4.5</div>
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <div class="rating-count">(24 avis)</div>
            </div>
        </div>
        
        <div class="promo-banner">
            <div class="promo-tag">EXCLUSIF</div>
            <p>Achetez plusieurs fois pour avoir des points de fidélités sur d'autres achats</p>
            <small>Avec Keluvato c'est que des cagnottes à gogo</small>
        </div>
    </div>
    
    <div class="reviews-grid">
        <div class="reviews-list">
            <div class="review-item">
                <div class="review-header">
                    <div>
                        <span class="review-author">Jean Dupont</span>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <div class="review-date">15/03/2023</div>
                </div>
                <div class="review-content">
                    <p>Excellent produit, très satisfait de mon achat. La qualité est au rendez-vous et le produit correspond parfaitement à la description. Livraison rapide et emballage soigné.</p>
                </div>
                <div class="review-helpful">
                    <span>Avis utile ?</span>
                    <button class="helpful-btn"><i class="far fa-thumbs-up"></i> (12)</button>
                    <button class="helpful-btn"><i class="far fa-thumbs-down"></i> (1)</button>
                </div>
            </div>
            
            <div class="review-item">
                <div class="review-header">
                    <div>
                        <span class="review-author">Marie Lambert</span>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                    </div>
                    <div class="review-date">10/03/2023</div>
                </div>
                <div class="review-content">
                    <p>Très bon produit dans l'ensemble. Petit bémol pour le montage qui n'était pas très clair dans les instructions. Mais une fois monté, le produit est très beau et fonctionnel.</p>
                </div>
                <div class="review-helpful">
                    <span>Avis utile ?</span>
                    <button class="helpful-btn"><i class="far fa-thumbs-up"></i> (8)</button>
                    <button class="helpful-btn"><i class="far fa-thumbs-down"></i> (0)</button>
                </div>
            </div>
            
            <button class="add-review-btn" id="show-review-form">Ajouter un avis</button>
            
            <div class="review-form-container" id="review-form">
                <h3>Donnez votre avis</h3>
                <form id="submit-review">
                    <div class="form-group">
                        <label>Note globale</label>
                        <div class="rating-select">
                            <input type="radio" id="star5" name="rating" value="5">
                            <label for="star5"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1"><i class="fas fa-star"></i></label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-title">Titre de votre avis</label>
                        <input type="text" id="review-title" placeholder="Ex: 'Très satisfait'" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-text">Votre avis</label>
                        <textarea id="review-text" rows="5" placeholder="Décrivez votre expérience avec ce produit..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-name">Votre nom</label>
                        <input type="text" id="review-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-email">Votre email (ne sera pas publié)</label>
                        <input type="email" id="review-email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-photos">Ajouter des photos (optionnel)</label>
                        <input type="file" id="review-photos" multiple accept="image/*">
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Publier l'avis</button>
                        <button type="button" class="btn btn-cancel" id="cancel-review">Annuler</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="reviews-sidebar">
            <div class="rating-distribution">
                <h4>Répartition des notes</h4>
                <div class="rating-bar">
                    <span>5 étoiles</span>
                    <div class="bar-container">
                        <div class="bar" style="width: 70%;"></div>
                    </div>
                    <span>70%</span>
                </div>
                <div class="rating-bar">
                    <span>4 étoiles</span>
                    <div class="bar-container">
                        <div class="bar" style="width: 20%;"></div>
                    </div>
                    <span>20%</span>
                </div>
                <div class="rating-bar">
                    <span>3 étoiles</span>
                    <div class="bar-container">
                        <div class="bar" style="width: 6%;"></div>
                    </div>
                    <span>6%</span>
                </div>
                <div class="rating-bar">
                    <span>2 étoiles</span>
                    <div class="bar-container">
                        <div class="bar" style="width: 3%;"></div>
                    </div>
                    <span>3%</span>
                </div>
                <div class="rating-bar">
                    <span>1 étoile</span>
                    <div class="bar-container">
                        <div class="bar" style="width: 1%;"></div>
                    </div>
                    <span>1%</span>
                </div>
            </div>
            
            <div class="trust-badge">
                <div class="trust-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <p>Avis vérifiés<br>100% authentiques</p>
            </div>
            
            <div class="customer-service-card">
                <h4>Besoin d'aide ?</h4>
                <p>Notre service client est à votre disposition pour toute question sur ce produit.</p>
                <button class="btn btn-outline">Contactez-nous</button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Styles supplémentaires pour la section avis */
    .reviews-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        gap: 1.5rem;
    }
    
    .reviews-header-left {
        display: flex;
        align-items: center;
        gap: 2rem;
    }
    
    .promo-banner {
        background: linear-gradient(135deg, #f5f5dc 0%, #e8e8d0 100%);
        border-left: 4px solid var(--primary);
        padding: 1rem 1.5rem;
        border-radius: 4px;
        position: relative;
        max-width: 300px;
    }
    
    .promo-tag {
        position: absolute;
        top: -10px;
        left: -10px;
        background: var(--primary);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
    }
    
    .reviews-grid {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 2rem;
    }
    
    .review-item {
        border-bottom: 1px solid #eee;
        padding: 1.5rem 0;
    }
    
    .review-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }
    
    .review-author {
        font-weight: 600;
    }
    
    .review-date {
        color: #666;
        font-size: 0.9rem;
    }
    
    .review-content {
        line-height: 1.6;
        margin-bottom: 0.8rem;
    }
    
    .review-helpful {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.9rem;
        color: #666;
    }
    
    .helpful-btn {
        background: none;
        border: 1px solid #ddd;
        padding: 0.3rem 0.8rem;
        border-radius: 4px;
        cursor: pointer;
        color: #666;
        transition: all 0.2s;
    }
    
    .helpful-btn:hover {
        background: #f5f5f5;
    }
    
    .add-review-btn {
        margin: 1.5rem 0;
        background: var(--secondary);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s;
    }
    
    .add-review-btn:hover {
        background: #3dbeb6;
        transform: translateY(-2px);
    }
    
    .review-form-container {
        display: none;
        background: #f9f9f9;
        padding: 2rem;
        border-radius: 8px;
        margin: 1.5rem 0;
    }
    
    .review-form-container h3 {
        margin-bottom: 1.5rem;
    }
    
    .form-group {
        margin-bottom: 1.2rem;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
    }
    
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group textarea {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-family: inherit;
    }
    
    .form-group textarea {
        resize: vertical;
    }
    
    .rating-select {
        display: flex;
        direction: rtl;
    }
    
    .rating-select input {
        display: none;
    }
    
    .rating-select label {
        color: #ddd;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0 0.2rem;
    }
    
    .rating-select input:checked ~ label,
    .rating-select label:hover,
    .rating-select label:hover ~ label {
        color: #ffc107;
    }
    
    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
    }
    
    .btn-cancel {
        background: #f5f5f5;
        color: #666;
    }
    
    .btn-cancel:hover {
        background: #e0e0e0;
    }
    
    /* Sidebar styles */
    .rating-distribution {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 1.5rem;
    }
    
    .rating-distribution h4 {
        margin-bottom: 1rem;
    }
    
    .rating-bar {
        display: flex;
        align-items: center;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
    }
    
    .rating-bar span:first-child {
        width: 70px;
    }
    
    .bar-container {
        flex: 1;
        height: 8px;
        background: #f0f0f0;
        border-radius: 4px;
        margin: 0 0.8rem;
    }
    
    .bar {
        height: 100%;
        background: #ffc107;
        border-radius: 4px;
    }
    
    .trust-badge {
        display: flex;
        align-items: center;
        gap: 1rem;
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 1.5rem;
    }
    
    .trust-icon {
        background: var(--primary);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .customer-service-card {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        text-align: center;
    }
    
    .customer-service-card h4 {
        margin-bottom: 0.5rem;
    }
    
    .customer-service-card p {
        color: #666;
        margin-bottom: 1rem;
        font-size: 0.9rem;
    }
    
    .btn-outline {
        background: none;
        border: 1px solid var(--primary);
        color: var(--primary);
    }
    
    .btn-outline:hover {
        background: rgba(74, 107, 255, 0.1);
    }
    
    @media (max-width: 768px) {
        .reviews-grid {
            grid-template-columns: 1fr;
        }
        
        .reviews-header {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .promo-banner {
            max-width: 100%;
        }
    }
</style>

<script>
    // Gestion du formulaire d'avis
    document.addEventListener('DOMContentLoaded', function() {
        const showReviewForm = document.getElementById('show-review-form');
        const reviewForm = document.getElementById('review-form');
        const cancelReview = document.getElementById('cancel-review');
        
        showReviewForm.addEventListener('click', function() {
            reviewForm.style.display = 'block';
            showReviewForm.style.display = 'none';
            window.scrollTo({
                top: reviewForm.offsetTop - 20,
                behavior: 'smooth'
            });
        });
        
        cancelReview.addEventListener('click', function() {
            reviewForm.style.display = 'none';
            showReviewForm.style.display = 'block';
        });
        
        // Soumission du formulaire
        document.getElementById('submit-review').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Ici vous ajouteriez le code pour envoyer l'avis au serveur
            alert('Merci pour votre avis ! Il sera publié après modération.');
            
            // Réinitialiser le formulaire
            this.reset();
            reviewForm.style.display = 'none';
            showReviewForm.style.display = 'block';
        });
    });
</script>

        <!-- Related Products -->
        <div class="related-products">
            <h2 class="section-title">Produits similaires</h2>
            <div class="products-grid" id="related-products">
                <!-- Rempli dynamiquement par JavaScript -->
            </div>
        </div>

        <!-- More Products -->
        <div class="related-products">
            <h2 class="section-title">Autres produits qui pourraient vous plaire</h2>
            <div class="products-grid" id="more-products">
                <!-- Rempli dynamiquement par JavaScript -->
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal" id="imageModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <img class="modal-image" id="modalImage" src="" alt="">
            <div class="modal-controls">
                <button class="modal-btn" onclick="rotateImage(-90)"><i class="fas fa-undo"></i></button>
                <button class="modal-btn" onclick="zoomImage(1.2)"><i class="fas fa-search-plus"></i></button>
                <button class="modal-btn" onclick="zoomImage(0.8)"><i class="fas fa-search-minus"></i></button>
                <button class="modal-btn" onclick="rotateImage(90)"><i class="fas fa-redo"></i></button>
            </div>
        </div>
    </div>



        <!-- Newsletter -->
    <section class="newsletter" style=" padding: 5rem 0; margin: 4rem 0; position: relative; overflow: hidden;">
                <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 2;">
                    <div style="background: rgba(255, 255, 255, 0.1); background: linear-gradient(135deg, #4a6bff 0%, #3a1c71 100%); backdrop-filter: blur(10px); border-radius: 20px; padding: 2.5rem; text-align: center; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);">
                        <h2 style="color: white; font-size: 2.5rem; margin-bottom: 1rem; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.1); font-family: 'Montserrat', sans-serif;">Ne manquez aucune offre exceptionnelle !</h2>
                        <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.2rem; max-width: 600px; margin: 0 auto 2rem; font-family: 'Montserrat', sans-serif;">Rejoignez notre communauté et bénéficiez de <span style="font-weight: bold; color: #fff;">10% de réduction</span> immédiate + des surprises exclusives chaque semaine !</p>
                        
                        <form class="newsletter-form" style="display: flex; max-width: 500px; margin: 0 auto; gap: 10px;">
                            <input type="email" placeholder="Votre adresse email" required 
                                style="flex: 1; padding: 15px 20px; border: none; border-radius: 50px; font-size: 1rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-family: 'Montserrat', sans-serif;">
                            <button type="submit" 
                                    style="background: linear-gradient(to right, #4a6bff, #4ECDC4); color: white; border: none; padding: 0 30px; border-radius: 50px; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; font-family: 'Montserrat', sans-serif;">
                                Je profite des offres
                            </button>
                        </form>
                        
                        <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.8rem; margin-top: 1.5rem; font-family: 'Montserrat', sans-serif;">* Nous détestons le spam autant que vous. Désabonnez-vous à tout moment.</p>
                    </div>
                </div>
                
        <!-- Éléments décoratifs modifiés -->
            <div style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: rgba(74, 107, 255, 0.1); border-radius: 50%;"></div>
            <div style="position: absolute; bottom: -80px; left: -80px; width: 250px; height: 250px; background: rgba(78, 205, 196, 0.08); border-radius: 50%;"></div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Keluvato Group</h3>
                    <p>Vente à distance d'articles meubles, décoration d'intérieur et extérieur, produits de bricolage et construction.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Boutique</h3>
                    <ul>
                        <li><a href="meubles.html">Meubles</a></li>
                        <li><a href="decoration.html">Décoration</a></li>
                        <li><a href="bricolage.html">Bricolage</a></li>
                        <li><a href="construction.html">Construction</a></li>
                        <li><a href="promotions.html">Promotions</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Aide</h3>
                    <ul>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="livraison.html">Livraison</a></li>
                        <li><a href="retours.html">Retours</a></li>
                        <li><a href="guide-tailles.html">Guide des tailles</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Informations</h3>
                    <ul>
                        <li><a href="a-propos.html">À propos</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="cgv.html">CGV</a></li>
                        <li><a href="confidentialite.html">Politique de confidentialité</a></li>
                        <li><a href="mentions-legales.html">Mentions légales</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Keluvato Group. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script>
        // Récupérer l'ID du produit depuis l'URL
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');

        // Données des produits (20 produits au total)
        const products = [
            {
                id: "1",
                name: "Canapé en velours bleu",
                brand: "Design Comfort",
                price: 799.99,
                oldPrice: 999.99,
                description: "Canapé 3 places en velours bleu avec une assise ultra-confortable et un design moderne. Structure en bois massif et pieds en métal doré. Dimensions : 210 x 85 x 75 cm. Livré avec des coussins d'appoint assortis.",
                images: [
                    "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1540574163026-643ea20ade25?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1493663284031-b7e3aefcae8e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Velours et bois massif"],
                    ["Couleur", "Bleu royal"],
                    ["Dimensions", "210 x 85 x 75 cm"],
                    ["Poids", "45 kg"],
                    ["Style", "Moderne contemporain"],
                    ["Assise", "Ultra-confortable mousse HR"],
                    ["Garantie", "2 ans"]
                ],
                category: "meubles"
            },
            {
                id: "2",
                name: "Table basse en chêne",
                brand: "Natural Wood",
                price: 249.99,
                oldPrice: 349.99,
                description: "Table basse en chêne massif avec plateau rectangulaire et pieds en métal noir. Surface traitée anti-rayures et résistante aux taches. Parfaite pour compléter votre salon moderne ou scandinave.",
                images: [
                    "https://images.unsplash.com/photo-1567538096630-e0c55bd6374c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Chêne massif et métal"],
                    ["Couleur", "Naturel et noir"],
                    ["Dimensions", "120 x 60 x 45 cm"],
                    ["Poids", "18 kg"],
                    ["Style", "Scandinave"],
                    ["Traitement", "Anti-rayures et hydrofuge"],
                    ["Garantie", "3 ans"]
                ],
                category: "meubles"
            },
            {
                id: "3",
                name: "Lampe design",
                brand: "Lumina",
                price: 129.99,
                description: "Lampe design avec abat-jour en tissu et base en céramique. Éclairage doux et chaleureux, parfait pour créer une ambiance cosy. Ampoule LED incluse (9W, 2700K). Hauteur réglable de 40 à 60 cm.",
                images: [
                    "https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Tissu et céramique"],
                    ["Couleur", "Blanc mat"],
                    ["Dimensions", "45-60 x 25 cm"],
                    ["Poids", "2.5 kg"],
                    ["Type d'ampoule", "LED incluse (9W)"],
                    ["Température couleur", "2700K (blanc chaud)"],
                    ["Garantie", "1 an"]
                ],
                category: "decoration"
            },
            {
                id: "4",
                name: "Perceuse sans fil",
                brand: "PowerTools",
                price: 89.99,
                description: "Perceuse-visseuse sans fil 18V avec batterie lithium-ion incluse. Livrée avec un chargeur rapide et un jeu d'embouts. Parfaite pour tous vos travaux de bricolage. Puissance et autonomie exceptionnelles.",
                images: [
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Tension", "18V"],
                    ["Batterie", "Lithium-ion 2.0Ah incluse"],
                    ["Vitesse", "0-550 / 0-2000 tr/min"],
                    ["Couple max", "50 Nm"],
                    ["Poids", "1.4 kg (avec batterie)"],
                    ["Accessoires inclus", "Chargeur + 6 embouts"],
                    ["Garantie", "2 ans"]
                ],
                category: "bricolage"
            },
            {
                id: "5",
                name: "Fauteuil club en cuir",
                brand: "Luxury Seats",
                price: 1299.99,
                oldPrice: 1599.99,
                description: "Fauteuil club en cuir véritable avec rembourrage en plumes et mousse haute résilience. Structure en bois massif et pieds en laiton. Dimensions : 85 x 95 x 75 cm. Disponible en plusieurs coloris.",
                images: [
                    "https://images.unsplash.com/photo-1592078615290-033ee584e267?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Cuir véritable"],
                    ["Couleur", "Brun cognac"],
                    ["Dimensions", "85 x 95 x 75 cm"],
                    ["Poids", "32 kg"],
                    ["Style", "Classique moderne"],
                    ["Rembourrage", "Plumes et mousse HR"],
                    ["Garantie", "5 ans"]
                ],
                category: "meubles"
            },
            {
                id: "6",
                name: "Tapis en laine",
                brand: "Home Comfort",
                price: 199.99,
                description: "Tapis en laine naturelle de haute qualité avec motif géométrique. Dimensions 160x230 cm. Doux au toucher et résistant à l'usure. Entretien facile.",
                images: [
                    "https://images.unsplash.com/photo-1575411407385-5d0a8b5d4b3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1575411407385-5d0a8b5d4b3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Laine 100% naturelle"],
                    ["Couleur", "Gris et blanc"],
                    ["Dimensions", "160 x 230 cm"],
                    ["Poids", "5 kg"],
                    ["Style", "Moderne"],
                    ["Entretien", "Aspiration régulière"],
                    ["Garantie", "1 an"]
                ],
                category: "decoration"
            },
            {
                id: "7",
                name: "Étagère murale",
                brand: "Urban Living",
                price: 79.99,
                description: "Étagère murale en bois massif avec supports métalliques. Parfaite pour afficher livres, plantes ou objets décoratifs. Dimensions : 80 x 20 cm. Facile à installer.",
                images: [
                    "https://images.unsplash.com/photo-1565538810643-b5bdb714032a?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Bois et métal"],
                    ["Couleur", "Naturel et noir"],
                    ["Dimensions", "80 x 20 cm"],
                    ["Poids", "3.5 kg"],
                    ["Style", "Industriel"],
                    ["Installation", "Facile"],
                    ["Garantie", "2 ans"]
                ],
                category: "decoration"
            },
            {
                id: "8",
                name: "Scie circulaire",
                brand: "PowerTools",
                price: 149.99,
                oldPrice: 179.99,
                description: "Scie circulaire sans fil 18V avec lame de 165mm. Coupe précise dans le bois, le plastique et les métaux non ferreux. Batterie et chargeur inclus.",
                images: [
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Tension", "18V"],
                    ["Diamètre lame", "165 mm"],
                    ["Vitesse", "5000 tr/min"],
                    ["Profondeur de coupe", "57 mm"],
                    ["Poids", "3.2 kg"],
                    ["Batterie incluse", "Oui"],
                    ["Garantie", "3 ans"]
                ],
                category: "bricolage"
            },
            {
                id: "9",
                name: "Pouf en tissu",
                brand: "Comfy Home",
                price: 59.99,
                description: "Pouf rond rembourré en tissu résistant. Diamètre 45cm, hauteur 35cm. Multifonction : repose-pieds, siège supplémentaire ou table basse. Disponible en plusieurs coloris.",
                images: [
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592078615290-033ee584e267?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Tissu polyester"],
                    ["Couleur", "Bleu marine"],
                    ["Dimensions", "Ø45 x 35 cm"],
                    ["Poids", "2 kg"],
                    ["Style", "Moderne"],
                    ["Rembourrage", "Mousse polyuréthane"],
                    ["Garantie", "1 an"]
                ],
                category: "decoration"
            },
            {
                id: "10",
                name: "Marteau de charpentier",
                brand: "ProTools",
                price: 24.99,
                description: "Marteau de charpentier professionnel avec manche en fibre de verre et tête en acier forgé. Poids 500g. Poignée ergonomique antidérapante.",
                images: [
                    "https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Acier et fibre de verre"],
                    ["Poids", "500 g"],
                    ["Longueur", "35 cm"],
                    ["Type", "Charpentier"],
                    ["Garantie", "À vie"]
                ],
                category: "bricolage"
            },
            {
                id: "11",
                name: "Buffet en bois massif",
                brand: "Rustic Wood",
                price: 599.99,
                oldPrice: 749.99,
                description: "Buffet de salle à manger en chêne massif avec 2 portes et 3 tiroirs. Style rustique moderne avec poignées en métal. Dimensions : 150 x 45 x 85 cm.",
                images: [
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592078615290-033ee584e267?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Chêne massif"],
                    ["Couleur", "Naturel"],
                    ["Dimensions", "150 x 45 x 85 cm"],
                    ["Poids", "55 kg"],
                    ["Style", "Rustique moderne"],
                    ["Finition", "Huile naturelle"],
                    ["Garantie", "5 ans"]
                ],
                category: "meubles"
            },
            {
                id: "12",
                name: "Miroir décoratif",
                brand: "Reflections",
                price: 129.99,
                description: "Miroir mural rectangulaire avec cadre en bois noir. Dimensions 80x120 cm. Parfait pour agrandir visuellement l'espace et décorer votre intérieur.",
                images: [
                    "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1540574163026-643ea20ade25?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Verre et bois"],
                    ["Couleur", "Noir"],
                    ["Dimensions", "80 x 120 cm"],
                    ["Poids", "8 kg"],
                    ["Style", "Moderne"],
                    ["Installation", "Murale"],
                    ["Garantie", "2 ans"]
                ],
                category: "decoration"
            },
            {
                id: "13",
                name: "Tournevis électrique",
                brand: "PowerTools",
                price: 49.99,
                description: "Tournevis électrique sans fil avec batterie lithium-ion. Livré avec un jeu de 12 embouts. Parfait pour les petits travaux de bricolage et d'assemblage.",
                images: [
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Tension", "3.6V"],
                    ["Batterie", "Lithium-ion incluse"],
                    ["Couple max", "5 Nm"],
                    ["Poids", "0.8 kg"],
                    ["Accessoires inclus", "12 embouts"],
                    ["Garantie", "2 ans"]
                ],
                category: "bricolage"
            },
            {
                id: "14",
                name: "Chaise design en bois",
                brand: "Modern Seating",
                price: 149.99,
                oldPrice: 199.99,
                description: "Chaise design en bois avec assise en tissu résistant. Structure en hêtre massif, pieds en métal. Confortable et élégante pour votre salle à manger ou bureau.",
                images: [
                    "https://images.unsplash.com/photo-1567538096630-e0c55bd6374c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Bois et tissu"],
                    ["Couleur", "Naturel et gris"],
                    ["Dimensions", "45 x 50 x 85 cm"],
                    ["Poids", "6 kg"],
                    ["Style", "Scandinave"],
                    ["Charge max", "120 kg"],
                    ["Garantie", "3 ans"]
                ],
                category: "meubles"
            },
            {
                id: "15",
                name: "Vase en céramique",
                brand: "Art & Deco",
                price: 39.99,
                description: "Vase en céramique artisanale avec finition mate. Hauteur 30 cm. Design épuré qui s'adapte à tous les styles d'intérieur. Parfait pour bouquets frais ou séchés.",
                images: [
                    "https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Céramique"],
                    ["Couleur", "Blanc mat"],
                    ["Dimensions", "Ø15 x 30 cm"],
                    ["Poids", "1.2 kg"],
                    ["Style", "Moderne"],
                    ["Entretien", "Lavage à la main"],
                    ["Garantie", "1 an"]
                ],
                category: "decoration"
            },
            {
                id: "16",
                name: "Niveau laser",
                brand: "ProTools",
                price: 89.99,
                description: "Niveau laser automatique avec portée de 20 mètres. Précision de ±0.3 mm/m. Fonctionne sur piles (incluses). Parfait pour les travaux de pose carrelage, peinture, etc.",
                images: [
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Type", "Laser automatique"],
                    ["Portée", "20 m"],
                    ["Précision", "±0.3 mm/m"],
                    ["Alimentation", "Piles (incluses)"],
                    ["Poids", "0.5 kg"],
                    ["Garantie", "3 ans"]
                ],
                category: "bricolage"
            },
            {
                id: "17",
                name: "Table à manger extensible",
                brand: "Dining Plus",
                price: 699.99,
                oldPrice: 899.99,
                description: "Table à manger en chêne massif extensible de 140 à 200 cm. Avec rallonge centrale. Pieds en métal robuste. Design moderne et fonctionnel.",
                images: [
                    "https://images.unsplash.com/photo-1567538096630-e0c55bd6374c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Chêne massif et métal"],
                    ["Couleur", "Naturel et noir"],
                    ["Dimensions", "140-200 x 90 x 75 cm"],
                    ["Poids", "45 kg"],
                    ["Style", "Moderne"],
                    ["Convient pour", "6-8 personnes"],
                    ["Garantie", "5 ans"]
                ],
                category: "meubles"
            },
            {
                id: "18",
                name: "Horloge murale",
                brand: "Time Design",
                price: 49.99,
                description: "Horloge murale design avec chiffres romains. Diamètre 50 cm. Mouvement silencieux à quartz. Piles incluses. Cadre en bois naturel.",
                images: [
                    "https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "Bois et métal"],
                    ["Couleur", "Naturel et noir"],
                    ["Dimensions", "Ø50 cm"],
                    ["Mouvement", "Quartz silencieux"],
                    ["Piles", "1xAA incluse"],
                    ["Style", "Vintage moderne"],
                    ["Garantie", "2 ans"]
                ],
                category: "decoration"
            },
            {
                id: "19",
                name: "Ponceuse orbitale",
                brand: "PowerTools",
                price: 79.99,
                description: "Ponceuse orbitale 250W avec système anti-vibration. Livrée avec 5 feuilles de papier abrasif (grain 120). Parfaite pour les travaux de finition sur bois.",
                images: [
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1592483648228-b35146a4330c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Puissance", "250W"],
                    ["Vitesse", "7000-12000 tr/min"],
                    ["Diamètre plateau", "125 mm"],
                    ["Poids", "1.8 kg"],
                    ["Accessoires inclus", "5 abrasifs grain 120"],
                    ["Garantie", "2 ans"]
                ],
                category: "bricolage"
            },
            {
                id: "20",
                name: "Bibliothèque modulable",
                brand: "Book Lovers",
                price: 349.99,
                description: "Bibliothèque modulable en 3 éléments à assembler selon vos besoins. En panneau de fibres à densité moyenne, finition chêne clair. Dimensions totales : 180 x 30 x 200 cm.",
                images: [
                    "https://images.unsplash.com/photo-1565538810643-b5bdb714032a?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1583845112203-29329902330b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                ],
                specs: [
                    ["Matériau", "MDF finition chêne"],
                    ["Couleur", "Chêne clair"],
                    ["Dimensions", "180 x 30 x 200 cm"],
                    ["Poids", "35 kg"],
                    ["Style", "Moderne"],
                    ["Modularité", "3 éléments"],
                    ["Garantie", "2 ans"]
                ],
                category: "meubles"
            }
        ];

        // Afficher les détails du produit
        function displayProductDetails() {
            const product = products.find(p => p.id === productId);
            const detailsContainer = document.getElementById('product-details-content');
            
            if (!product) {
                detailsContainer.innerHTML = '<p class="container">Produit non trouvé</p>';
                return;
            }

            // Créer le HTML des images
            let imagesHTML = `
                <div class="product-details-images">
                    <div class="main-image-container">
                        <img class="main-image" src="${product.images[0]}" alt="${product.name}" onclick="openModal('${product.images[0]}')">
                        <div class="image-zoom-controls">
                            <button class="zoom-btn" onclick="zoomMainImage(1.2)"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn" onclick="zoomMainImage(0.8)"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn" onclick="rotateMainImage(90)"><i class="fas fa-redo"></i></button>
                        </div>
                    </div>
                    <div class="thumbnail-container">
            `;
            
            product.images.forEach((image, index) => {
                imagesHTML += `
                    <img class="thumbnail" 
                         src="${image}" 
                         alt="Miniature ${index + 1}"
                         onclick="changeMainImage('${image}', this)">
                `;
            });
            
            imagesHTML += `</div></div>`;
            
            // Créer le HTML des informations
            let infoHTML = `
                <div class="product-details-info">
                    <h1>${product.name}</h1>
                    <div class="product-brand">${product.brand}</div>
                    
                    <!-- Avis en étoiles -->
                    <div class="stars" style="margin: 0.5rem 0; font-size: 1.2rem;">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                        <span style="color: #666; font-size: 0.9rem; margin-left: 0.5rem;">(24 avis)</span>
                    </div>
                    
                    <div class="product-price">
                        €${product.price.toFixed(2)}
                        ${product.oldPrice ? `<span class="old-price">€${product.oldPrice.toFixed(2)}</span>` : ''}
                    </div>
                    
                    <div class="product-description">${product.description}</div>
                    
                    <div class="product-specs">
                        <h3>Caractéristiques</h3>
                        <table class="specs-table">
            `;
            
            product.specs.forEach(spec => {
                infoHTML += `
                    <tr>
                        <td>${spec[0]}</td>
                        <td>${spec[1]}</td>
                    </tr>
                `;
            });
            
            infoHTML += `
                        </table>
                    </div>
                    
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <button class="quantity-btn minus" onclick="updateQuantity(this, -1)">-</button>
                            <input type="number" class="quantity-input" value="1" min="1">
                            <button class="quantity-btn plus" onclick="updateQuantity(this, 1)">+</button>
                        </div>
                        <button class="btn btn-primary" onclick="addToCart()">Ajouter au panier</button>
                    </div>
                </div>
            `;
            
            // Combiner et afficher
            detailsContainer.innerHTML = imagesHTML + infoHTML;
            
            // Afficher les produits similaires
            displayRelatedProducts(product);
            
            // Afficher d'autres produits
            displayMoreProducts(product);
        }

        // Afficher les produits similaires
        function displayRelatedProducts(currentProduct) {
            const relatedProductsContainer = document.getElementById('related-products');
            
            // Filtrer les produits de la même catégorie (sauf le produit actuel)
            const relatedProducts = products.filter(p => 
                p.category === currentProduct.category && p.id !== currentProduct.id
            );
            
            // Si moins de 7 produits, compléter avec d'autres catégories
            if (relatedProducts.length < 7) {
                const otherProducts = products.filter(p => 
                    p.category !== currentProduct.category && p.id !== currentProduct.id
                ).slice(0, 7 - relatedProducts.length);
                
                relatedProducts.push(...otherProducts);
            }
            
            // Prendre les 7 premiers
            const productsToShow = relatedProducts.slice(0, 7);
            
            let html = '';
            productsToShow.forEach(product => {
                html += `
                    <div class="product-card" onclick="window.location.href='product.html?id=${product.id}'">
                        <img src="${product.images[0]}" alt="${product.name}" class="product-image">
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-price">
                                €${product.price.toFixed(2)}
                                ${product.oldPrice ? `<span class="product-old-price">€${product.oldPrice.toFixed(2)}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            relatedProductsContainer.innerHTML = html;
        }

        // Afficher d'autres produits
        function displayMoreProducts(currentProduct) {
            const moreProductsContainer = document.getElementById('more-products');
            
            // Prendre des produits aléatoires (sauf le produit actuel)
            const otherProducts = products.filter(p => p.id !== currentProduct.id);
            
            // Mélanger le tableau
            const shuffledProducts = [...otherProducts].sort(() => 0.5 - Math.random());
            
            // Prendre les 7 premiers
            const productsToShow = shuffledProducts.slice(0, 7);
            
            let html = '';
            productsToShow.forEach(product => {
                html += `
                    <div class="product-card" onclick="window.location.href='product.html?id=${product.id}'">
                        <img src="${product.images[0]}" alt="${product.name}" class="product-image">
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-price">
                                €${product.price.toFixed(2)}
                                ${product.oldPrice ? `<span class="product-old-price">€${product.oldPrice.toFixed(2)}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            moreProductsContainer.innerHTML = html;
        }

        // Fonction pour changer l'image principale
        function changeMainImage(src, thumbnail) {
            const mainImage = document.querySelector('.main-image');
            mainImage.src = src;
            
            // Retirer la bordure active de toutes les miniatures
            document.querySelectorAll('.thumbnail').forEach(img => {
                img.style.borderColor = 'transparent';
            });
            
            // Ajouter la bordure à la miniature cliquée
            thumbnail.style.borderColor = 'var(--primary)';
        }

        // Fonction pour zoomer l'image principale
        function zoomMainImage(factor) {
            const mainImage = document.querySelector('.main-image');
            const currentScale = parseFloat(mainImage.style.transform.replace('scale(', '').replace(')', '')) || 1;
            const newScale = currentScale * factor;
            
            // Limiter le zoom entre 0.5x et 3x
            if (newScale >= 0.5 && newScale <= 3) {
                mainImage.style.transform = `scale(${newScale})`;
            }
        }

        // Fonction pour faire pivoter l'image principale
        function rotateMainImage(degrees) {
            const mainImage = document.querySelector('.main-image');
            const currentRotation = parseFloat(mainImage.style.transform.replace('rotate(', '').replace('deg)', '')) || 0;
            const newRotation = currentRotation + degrees;
            
            mainImage.style.transform = `rotate(${newRotation}deg)`;
        }

        // Fonction pour ouvrir la modal d'image
        function openModal(src) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            
            modalImage.src = src;
            modalImage.style.transform = 'scale(1) rotate(0deg)';
            modal.style.display = 'flex';
        }

        // Fonction pour fermer la modal
        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
        }

        // Fonction pour faire pivoter l'image dans la modal
        function rotateImage(degrees) {
            const modalImage = document.getElementById('modalImage');
            const currentRotation = parseFloat(modalImage.style.transform.replace('rotate(', '').replace('deg)', '')) || 0;
            const newRotation = currentRotation + degrees;
            
            modalImage.style.transform = `scale(${getCurrentScale()}) rotate(${newRotation}deg)`;
        }

        // Fonction pour zoomer l'image dans la modal
        function zoomImage(factor) {
            const modalImage = document.getElementById('modalImage');
            const currentScale = getCurrentScale();
            const newScale = currentScale * factor;
            
            // Limiter le zoom entre 0.5x et 5x
            if (newScale >= 0.5 && newScale <= 5) {
                const currentRotation = parseFloat(modalImage.style.transform.replace('rotate(', '').replace('deg)', '')) || 0;
                modalImage.style.transform = `scale(${newScale}) rotate(${currentRotation}deg)`;
            }
        }

        // Obtenir l'échelle actuelle de l'image dans la modal
        function getCurrentScale() {
            const modalImage = document.getElementById('modalImage');
            const transform = modalImage.style.transform;
            
            if (transform.includes('scale(')) {
                return parseFloat(transform.split('scale(')[1].split(')')[0]);
            }
            return 1;
        }

        // Fonction pour mettre à jour la quantité
        function updateQuantity(button, change) {
            const input = button.parentNode.querySelector('.quantity-input');
            let value = parseInt(input.value);
            value += change;
            
            if (value < 1) value = 1;
            input.value = value;
        }

        // Fonction pour ajouter au panier
        function addToCart() {
            const product = products.find(p => p.id === productId);
            const quantity = parseInt(document.querySelector('.quantity-input').value);
            
            // Récupérer le panier existant ou en créer un nouveau
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Vérifier si le produit est déjà dans le panier
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: quantity,
                    image: product.images[0]
                });
            }
            
            // Sauvegarder le panier
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Mettre à jour le compteur du panier
            updateCartCount();
            
            // Afficher une notification
            alert(`${quantity} ${product.name}(s) ${quantity > 1 ? 'ont' : 'a'} été ajouté${quantity > 1 ? 's' : ''} à votre panier!`);
        }

        // Mettre à jour le compteur du panier
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            
            // Mettre à jour dans le header
            document.querySelector('.cart-count').textContent = totalItems;
        }

        // Charger les détails du produit au chargement de la page
        document.addEventListener('DOMContentLoaded', () => {
            displayProductDetails();
            updateCartCount();
            
            // Fermer la modal en cliquant à l'extérieur
            document.getElementById('imageModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>